# 汇编语言学习

## 两步式，再最后赘述一遍

1. 运行 `asm.bat` 输入 `.nas` 文件名，生成 `.img` 映像文件
2. 运行 `run.bat` 输入 `.img` 文件名，使用 `QEMU` 运行 `.img` 映像文件

## 相关指令学习

1. `ORG` origin 指明程序的装载地址

   `ORG 0x7c00` 也就是把程序装载到内存中的指定地址

2. `JMP` jump 相当于 C语言中的 `goto`

3. `MOV` 赋值

   > 对CPU来说，内存实际上是外部存储器，当CPU要通过自己的一部分管脚（引线）向内存发送电信号，告诉内存：“把5678号地址的数据通过我的管脚传过来”。CPU在执行机器语言时，必须从内存中一个命令一个命令地读取程序，顺序执行，当然现代处理器，都有高速缓存（L1/L2/L3）。

   `MOV AX,0` 相当于 `AX=0`

   `MOV BYTE [678],123` [678] 表示内存地址，对这个地址赋值 123

   `MOV WORD [678],123` 此时678、679都会做出反应，一共是16位，下位678、上位679

   `MOV`指令有条规则，就是源数据和目的数据的位数必须相同

4. `ADD` 加

   `ADD SI,1` 相当于 `SI + 1`

5. `CMP` compare 比较

   `CMP a,3` 相当于 `if (a == 3)`

6. `JE` jump if equal 条件跳转

   `CMP AL,0`

   `JE fin`

   这两条指令相当于 `if (AL == 0) { goto fin; }`

7. `INT` interrupt 软件中断指令

8. `HLT` halt 停止，让CPU进入待机状态